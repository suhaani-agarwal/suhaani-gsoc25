<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GSoC 2025 - Development Journal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      /* Reset & base */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      
      body {
        background: linear-gradient(135deg, #f8fffe 0%, #f0f9ff 50%, #ecfdf5 100%);
        color: #1f2937;
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        line-height: 1.7;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        font-weight: 300;
        font-size: 15px;
  
      }
      
      a {
        color: #6b7280;
        text-decoration: none;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
      }
      
      a:hover,
      a:focus {
        color: #059669;
        outline: none;
      }
      
      /* Navbar with light glass effect */
      nav {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(34, 197, 94, 0.1);
        padding: 1.25rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
      
      .logo {
        font-family: "Playfair Display", serif;
        font-weight: 600;
        font-size: 1.75rem;
        background: linear-gradient(135deg, #059669 0%, #0ea5e9 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.5px;
        user-select: none;
        transition: transform 0.3s ease;
      }
      
      .logo:hover {
        transform: scale(1.05);
      }
      
      .nav-links {
        display: flex;
        gap: 2rem;
      }
      
      .nav-links a {
        font-weight: 500;
        font-size: 0.95rem;
        padding: 0.75rem 1.25rem;
        border-radius: 12px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }
      
      .nav-links a::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(14, 165, 233, 0.1) 100%);
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      
      .nav-links a:hover::before,
      .nav-links a:focus::before {
        opacity: 1;
      }
      
      .nav-links a[aria-current="page"] {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(14, 165, 233, 0.15) 100%);
        color: #059669;
        border: 1px solid rgba(34, 197, 94, 0.2);
      }
      
      /* Hamburger Menu */
      .hamburger {
        display: none;
        flex-direction: column;
        cursor: pointer;
        gap: 6px;
        padding: 8px;
        border-radius: 8px;
        transition: background-color 0.3s ease;
      }
      
      .hamburger:hover {
        background-color: rgba(34, 197, 94, 0.1);
      }
      
      .hamburger div {
        width: 28px;
        height: 3px;
        background: linear-gradient(90deg, #059669 0%, #0ea5e9 100%);
        border-radius: 2px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      /* Enhanced responsive navbar */
      @media (max-width: 768px) {
        nav {
          padding: 1rem 1.5rem;
        }
        
        .nav-links {
          position: absolute;
          top: calc(100% + 1px);
          right: 1.5rem;
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          flex-direction: column;
          width: 250px;
          border-radius: 16px;
          padding: 1.5rem;
          display: none;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
          border: 1px solid rgba(34, 197, 94, 0.1);
          gap: 0.5rem;
        }
        
        .nav-links.show {
          display: flex;
          animation: slideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hamburger {
          display: flex;
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      }
      
      /* Main layout with improved spacing */
      main {
        display: flex;
        max-width: 1400px;
        margin: 3rem auto;
        padding: 0 2rem;
        gap: 3rem;
        flex-grow: 1;
        min-height: 70vh;
      }
      
      /* Enhanced sidebar with light theme */
      aside.sidebar {
        flex: 0 0 280px; /* Don't allow shrinking */
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(20px);
        padding: 1rem;
        width: 380px;
        position: sticky;
        top: 120px;
        height: fit-content;
        max-height: calc(100vh - 140px);
        overflow-y: auto;
        border-radius: 20px;
        border: 1px solid rgba(34, 197, 94, 0.1);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        user-select: none;
      }
      
      aside.sidebar h2 {
        font-family: "Playfair Display", serif;
        font-size: 1.35rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: #059669;
        letter-spacing: -0.3px;
        padding-bottom: 1rem;
        border-bottom: 1px solid rgba(34, 197, 94, 0.1);
      }
      
      aside.sidebar a {
        display: block;
        margin: 0.75rem 0;
        padding: 1rem 1.25rem;
        border-radius: 12px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        color: #6b7280;
        font-weight: 500;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
      }
      
      aside.sidebar a::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: linear-gradient(180deg, #059669 0%, #0ea5e9 100%);
        transform: scaleY(0);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      aside.sidebar a:hover::before,
      aside.sidebar a.active::before {
        transform: scaleY(1);
      }
      
      aside.sidebar a:hover,
      aside.sidebar a:focus {
        background: rgba(34, 197, 94, 0.08);
        color: #059669;
        outline: none;
        transform: translateX(8px);
      }
      
      aside.sidebar a.active {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(14, 165, 233, 0.1) 100%);
        color: #059669;
        font-weight: 600;
        border: 1px solid rgba(34, 197, 94, 0.2);
        transform: translateX(8px);
      }
      
      /* Content area with better typography */
      article.content {
        flex-grow: 1;
        max-width: none;
      }
      
      /* Enhanced week sections */
      section.week {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(20px);
        border-radius: 24px;
        padding: 3rem;
        margin-bottom: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        scroll-margin-top: 120px;
        border: 1px solid rgba(34, 197, 94, 0.1);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }
      
      section.week::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent 0%, rgba(34, 197, 94, 0.3) 50%, transparent 100%);
      }
      
      section.week:hover {
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        border-color: rgba(34, 197, 94, 0.2);
        transform: translateY(-2px);
      }
      
      section.week h2.week-title {
        font-family: "Playfair Display", serif;
        font-size: 2.5rem;
        font-weight: 600;
        background: linear-gradient(135deg, #059669 0%, #0ea5e9 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 1rem;
        user-select: none;
        letter-spacing: -1px;
        line-height: 1.2;
      }
      
      section.week h3 {
        font-size: 1.35rem;
        font-weight: 600;
        margin-top: 2.5rem;
        margin-bottom: 1rem;
        color: #059669;
        user-select: text;
        letter-spacing: -0.3px;
        position: relative;
        padding-left: 1.5rem;
      }
      
      section.week h3::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 24px;
        background: linear-gradient(180deg, #059669 0%, #0ea5e9 100%);
        border-radius: 2px;
      }
      
      section.week p.dates {
        font-size: 1rem;
        color: #9ca3af;
        opacity: 0.9;
        margin-top: -0.5rem;
        margin-bottom: 2rem;
        font-style: italic;
        font-weight: 400;
        padding-left: 1.5rem;
      }
      
      section.week p {
        margin-bottom: 1.25rem;
        user-select: text;
        font-size: 1.05rem;
        line-height: 1.7;
        color: #374151;
      }
      
      /* Enhanced lists with better visual hierarchy */
      section.week ul.links-list {
        list-style: none;
        margin-left: 1.5rem;
        padding-left: 0;
        margin-bottom: 1.5rem;
      }
      
      section.week ul.links-list li {
        margin-bottom: 1rem;
        position: relative;
        padding-left: 2rem;
        line-height: 1.6;
      }
      
      section.week ul.links-list li::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0.75rem;
        width: 6px;
        height: 6px;
        background: linear-gradient(135deg, #059669 0%, #0ea5e9 100%);
        border-radius: 50%;
        transform: translateY(-50%);
      }
      
      section.week ul.links-list li a {
        color: #6b7280;
        font-weight: 500;
        font-size: 1rem;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        text-decoration: underline;
        text-decoration-color: transparent;
        text-underline-offset: 4px;
      }
      
      section.week ul.links-list li a:hover,
      section.week ul.links-list li a:focus {
        color: #059669;
        text-decoration-color: #059669;
        transform: translateX(4px);
      }
      
      /* Nested lists */
      section.week ul.links-list ul {
        margin-top: 0.75rem;
        margin-left: 1rem;
        border-left: 2px solid rgba(34, 197, 94, 0.2);
        padding-left: 1.5rem;
      }
      
      section.week ul.links-list ul li::before {
        background: rgba(34, 197, 94, 0.6);
        width: 4px;
        height: 4px;
      }
      
      /* Code elements */
      code {
        font-family: "JetBrains Mono", "SF Mono", Monaco, Inconsolata, "Roboto Mono", Consolas, "Courier New", monospace;
        background: rgba(34, 197, 94, 0.1);
        color: #059669;
        padding: 0.25rem 0.5rem;
        border-radius: 6px;
        font-size: 0.9em;
        font-weight: 500;
      }
      
      /* Enhanced footer */
      footer {
        text-align: center;
        color: #9ca3af;
        padding: 2rem 0;
        font-size: 0.95rem;
        border-top: 1px solid rgba(34, 197, 94, 0.1);
        user-select: none;
        margin-top: auto;
        background: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(20px);
      }
      
      /* Scroll animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .fade-in {
        animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }
      
      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: rgba(243, 244, 246, 0.5);
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #059669 0%, #0ea5e9 100%);
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #047857 0%, #0284c7 100%);
      }
      
      /* Responsive design improvements */
      @media (max-width: 1024px) {
        main {
          gap: 2rem;
          padding: 0 1.5rem;
        }
        
        aside.sidebar {
          width: 240px;
          padding: 1.5rem;
        }
        
        section.week {
          padding: 2rem;
        }
        
        section.week h2.week-title {
          font-size: 2rem;
        }
      }
      
      @media (max-width: 768px) {
        main {
          flex-direction: column;
          gap: 2rem;
          margin: 2rem auto;
        }
        
        aside.sidebar {
          width: 100%;
          position: static;
          height: auto;
          max-height: none;
          order: 2;
          margin-top: 2rem;
        }
        
        article.content {
          order: 1;
        }
        
        section.week {
          padding: 1.5rem;
          margin-bottom: 2rem;
        }
        
        section.week h2.week-title {
          font-size: 1.75rem;
        }
        
        section.week h3 {
          font-size: 1.2rem;
          margin-top: 2rem;
        }
      }

      .visualization-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 20px 0;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 8px;
      }

      .viz-item {
        text-align: center;
      }

      .viz-image {
        width: 100%;
        max-width: 300px;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .viz-image:hover {
        transform: scale(1.05);
      }

      .viz-caption {
        margin-top: 10px;
        font-size: 0.9em;
        color: #666;
        font-weight: 500;
      }
      
      /* Loading state */
      .loading {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .loaded {
        opacity: 1;
        transform: translateY(0);
      }
      .demo-video-small {
        width: 300px;
        max-width: 100%;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        display: block;
        margin: 1rem auto;
      }

      .feature-showcase {
        margin: 25px 0;
        padding: 25px;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 12px;
        border-left: 4px solid #007bff;
      }

      .showcase-item {
        text-align: center;
      }

      .showcase-item h4 {
        color: #495057;
        margin-bottom: 15px;
        font-size: 1.1em;
        font-weight: 600;
      }

      .video-container {
        position: relative;
        max-width: 65%;
        width: 100%;
        height : 80%;
        margin: 0 auto;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        transition: transform 0.3s ease;
      }

      .video-container:hover {
        transform: scale(1.02);
      }

      .demo-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        border-radius: 12px;
      }

      .video-caption {
        margin-top: 12px;
        font-size: 0.85em;
        color: #6c757d;
        font-style: italic;
        line-height: 1.4;
        max-width: 300px;
        margin-left: auto;
        margin-right: auto;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .video-container {
          max-width: 240px;
          width: 240px;
          height: 240px;
        }
        
        .feature-showcase {
          padding: 20px 15px;
        }
      }

      @media (max-width: 480px) {
        .video-container {
          max-width: 200px;
          width: 200px;
          height: 200px;
        }
      }
      .full-width-image {
        width: 100%;
        max-width: calc(100% - 220px); /* Subtract sidebar width */
        margin: 1rem 0;
        border-radius: 4px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      }

      .image-caption {
        text-align: center;
        font-size: 0.9rem;
        color: #777;
        margin-top: -0.5rem;
        margin-bottom: 1.5rem;
      }
      
      /* Interactive hover effects for links */
      section.week ul.links-list li a {
        position: relative;
      }
      
      section.week ul.links-list li a::after {
        content: '→';
        position: absolute;
        right: -20px;
        opacity: 0;
        transition: all 0.3s ease;
        color: #059669;
      }
      
      section.week ul.links-list li a:hover::after {
        opacity: 1;
        right: -15px;
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="logo" tabindex="0">GSoC 2025 Journal</div>
      <div
        class="hamburger"
        aria-label="Toggle navigation menu"
        role="button"
        tabindex="0"
      >
        <div></div>
        <div></div>
        <div></div>
      </div>
      <div class="nav-links" role="navigation" aria-label="Primary Navigation">
        <a href="index.html">Home</a>
        <a href="notebook.html" aria-current="page">Development Journal</a>
        <a href="progress.html">Progress Report</a>
        <a href="about.html">About Me</a>
        <a href="contact.html">Contact</a>
      </div>
    </nav>

    <main>
      <aside class="sidebar" aria-label="Weekly Navigation">
        <h2>Weekly Progress</h2>
        <a href="#week0-cbp1" class="active">Week 0 - Part I</a>
        <a href="#week0-cbp2">Week 0 - Part II</a>
        <a href="#week0-cbp3">Week 0 - Part III</a>
        <a href="#week1">Week 1</a>
        <a href="#week2">Week 2</a>
        <a href="#week3">Week 3</a>
        <a href="#week4">Week 4</a>
        <a href="#week5">Week 5</a>
        <a href="#week6">Week 6</a>
        <a href="#week7">Week 7</a>
        <a href="#week8">Week 8</a>
        <a href="#week9">Week 9</a>
        <a href="#week10">Week 10</a>
        <a href="#week11">Week 10</a>
        <a href="#week12">Week 11</a>
        <a href="#week13">Week 12</a>
        <a href="#week14">Week 13</a>
        <a href="#week15">Week 14</a>
      </aside>

      <article class="content">
        
        <section class="week loading" id="week0-cbp1">
          <h2 class="week-title">Week 0 (Community Bonding Period)</h2>
          <p class="dates">May 15 - May 20, 2025</p>
          
          <h3>Outcome</h3>
          <p>Ported three visualizations from the old Animint gallery to the new Animint2 gallery and submitted a pull request.</p>
          
          <div class="visualization-gallery">
            <div class="viz-item">
              <img src="assets/tempviz.png" alt="American Temperature Maps" class="viz-image">
              <p class="viz-caption">American Temperature Maps (#55)</p>
            </div>
            <div class="viz-item">
              <img src="assets/worldbank.png" alt="World Bank Visualization" class="viz-image">
              <p class="viz-caption">World Bank Paper (#41)</p>
            </div>
            <div class="viz-item">
              <img src="assets/chip.png" alt="ChIP seq Data" class="viz-image">
              <p class="viz-caption">ChIP seq Data Unaligned (#35)</p>
            </div>
          </div>
          
          <h3>What I did</h3>
          <p>Due to ongoing exams, my time was limited, but I managed to:</p>
          <ul class="links-list">
            <li>Port three key visualizations from the old gallery to the new Animint2 syntax:
              <ul>
                <li><code>#55</code> - American Temperature Maps</li>
                <li><code>#41</code> - World Bank paper visualization</li>
                <li><code>#35</code> - ChIP seq data unaligned visualization</li>
              </ul>
            </li>
            <li>Submitted <code>PR #29</code> to the gallery repository</li>
            <li>Fixed issues in the 41st and 35th visualizations</li>
            <li>Addressed mentor feedback on the 55th visualization</li>
          </ul>
          
          <!-- Rest of your content remains the same -->
          <h3>Learnings</h3>
          <p>This week was incredibly educational as I:</p>
          <ul class="links-list">
            <li>Gained deep understanding of Animint functions and capabilities</li>
            <li>Learned the process of converting old Animint code to new Animint2 syntax</li>
            <li>Improved skills in making visualizations more clear, sophisticated and user-friendly</li>
            <li>Understood how to implement better interactivity in visualizations</li>
            <li>Learned to handle different types of geoms (points, tiles, lines) in Animint better</li>
            <li>Improved my understanding of the gallery structure and contribution process</li>
            <li>Explored different old visualization source codes and compiled a list of visualizations to be ported next</li>
          </ul>
          
          <h3>Confusions/Issues</h3>
          <p>Some challenges I encountered:</p>
          <ul class="links-list">
            <li>Geom_tile transitions aren't smooth in the visualizations</li>
            <li>Need to investigate if this is a bug by creating a minimal reproducible example</li>
            <li>Need to check test cases to see if smooth transitions in geom_tile are properly tested</li>
            <li>Certain interactive elements required more work than expected to port properly</li>
          </ul>
          
          <h3>Next Week Targets</h3>
          <ul class="links-list">
            <li>Port other visualizations</li>
            <li>Complete remaining mentor suggestions on the 55th visualization</li>
            <li>Create demonstration videos once visualization outlooks are finalized</li>         
            <li>Investigate the geom_tile transition issue</li>
          </ul>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="https://github.com/animint/gallery/pull/29" target="_blank" rel="noopener">Pull Request #29</a></li>
            <li><a href="https://rcdata.nau.edu/genomic-ml/animint-gallery/" target="_blank" rel="noopener">Old Animint Gallery</a></li>
            <li><a href="https://animint.github.io/gallery/" target="_blank" rel="noopener">New Animint2 Gallery</a></li>
            <li><a href="https://suhaani-agarwal.github.io/gallery/" target="_blank" rel="noopener">My Forked Gallery Preview</a></li>
            <li><a href="https://suhaani-agarwal.github.io/central-american-temperature-maps/" target="_blank" rel="noopener">#55 - American Temperature Maps</a></li>
            <li><a href="https://suhaani-agarwal.github.io/WorldBank-paper/" target="_blank" rel="noopener">#41 - World Bank paper</a></li>
            <li><a href="https://suhaani-agarwal.github.io/chip-seq-unaligned/" target="_blank" rel="noopener">#35 - ChIP seq data</a></li>
          </ul>
        </section>

        <section class="week loading" id="week0-cbp2">
          <h2 class="week-title">Week 0 (Community Bonding Period)</h2>
          <p class="dates">May 21st - May 28th, 2025</p>
          
           <div class="visualization-gallery">
    <div class="viz-item">
      <img src="assets/montreal.png" alt="Montreal Bikes Jan 2016" class="viz-image">
      <p class="viz-caption">Montreal Bikes Jan 2016 (#43)</p>
    </div>
    <div class="viz-item">
      <img src="assets/pdpa.png" alt="Demo of Constrained PDPA" class="viz-image">
      <p class="viz-caption">Demo of Constrained PDPA (#31)</p>
    </div>
    <div class="viz-item">
      <img src="assets/cost.png" alt="Cost/slack minimization" class="viz-image">
      <p class="viz-caption">Cost/slack minimization (#30)</p>
    </div>
    <div class="viz-item">
      <img src="assets/bic.png" alt="Segmentation model selection with BIC" class="viz-image">
      <p class="viz-caption">Segmentation model selection with BIC (#50)</p>
    </div>
    <div class="viz-item">
      <img src="assets/neural.png" alt="Gradient descent for neural networks" class="viz-image">
      <p class="viz-caption">Gradient descent for neural networks (#5)</p>
    </div>
    <div class="viz-item">
      <img src="assets/grad.png" alt="Gradient descent for regression" class="viz-image">
      <p class="viz-caption">Gradient descent for regression (#6)</p>
    </div>
  </div>
          <h3>What I did</h3>
          <ul class="links-list">
            <li>Solved geom_tile transition issue</li>
            <li>Created comprehensive demonstration videos for all three previously ported visualizations</li>
            <li>Successfully got <code>PR #29</code> merged into the main gallery repository</li>
            <li>Ported six additional visualizations from old to new gallery:
              <ul>
                <li><code>#43</code> - Montreal Bikes Jan 2016</li>
                <li><code>#31</code> - Demo of Constrained PDPA</li>
                <li><code>#30</code> - Cost/slack minimization over all feature thresholds</li>
                <li><code>#50</code> - Segmentation model selection with BIC</li>
                <li><code>#5</code> - Gradient descent for neural network and linear model</li>
                <li><code>#6</code> - Gradient descent for regression</li>
              </ul>
            </li>
            <li>Submitted and got <code>PR #30</code> merged for these new visualizations</li>
            <li>Ensured all visualizations maintained their original functionality while using Animint2 syntax</li>
          </ul>
          
          <h3>Learnings</h3>
          <ul class="links-list">
            <li><strong>Solved geom_tile transition issue</strong> by implementing a two-layer approach: (documented in PR #29)
                <ul>
                  <li>Base layer for smooth transitions (<code>showSelected="time2"</code>) with fill colors but no borders</li>
                  <li>Selection layer for click interactions (<code>clickSelects="id"</code>) with border colors but no fill</li>
                </ul>
              </li>
            <li>Data format requirements for different geoms</li>
          </ul>
          
          <h3>Confusions/Issues</h3>
          <ul class="links-list">
            <li>Initial uncertainty about the best approach to solve the geom_tile transition issue</li>
            <li>Some visualizations required significant restructuring to work with Animint2</li>
            <li>Ensuring consistent behavior across all browsers was occasionally challenging</li>
          </ul>
          
          <h3>Next Week Targets</h3>
          <ul class="links-list">
            <li>Investigate geom_abline bug (<code>#142</code>)</li>
            <li>Explore tooltips implementation</li>
            <li>Port remaining high-priority visualizations</li>
          </ul>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="https://github.com/animint/gallery/pull/30" target="_blank" rel="noopener">Pull Request #30 (New visualizations)</a></li>
            <li><a href="https://github.com/animint/gallery/pull/29" target="_blank" rel="noopener">Merged PR #29 (Initial visualizations)</a></li>
            <li><a href="https://animint.github.io/gallery/" target="_blank" rel="noopener">Updated Animint2 Gallery</a></li>
            <li>Newly ported visualizations:
              <ul>
                <li><a href="https://suhaani-agarwal.github.io/montreal-bikes-Jan2016/" target="_blank" rel="noopener">#43 - Montreal Bikes Jan 2016</a></li>
                <li><a href="https://suhaani-agarwal.github.io/Demo_Constrained_PDPA/" target="_blank" rel="noopener">#31 - Demo of Constrained PDPA</a></li>
                <li><a href="https://suhaani-agarwal.github.io/figure-penaltyLearning/" target="_blank" rel="noopener">#30 - Cost/slack minimization</a></li>
                <li><a href="https://suhaani-agarwal.github.io/intreg-BIC/" target="_blank" rel="noopener">#50 - Segmentation model selection with BIC</a></li>
                <li><a href="https://suhaani-agarwal.github.io/Ch18-neural-networks-sim/" target="_blank" rel="noopener">#5 - Gradient descent for neural networks</a></li>
                <li><a href="https://suhaani-agarwal.github.io/figure-gradient-descent-regression/" target="_blank" rel="noopener">#6 - Gradient descent for regression</a></li>
              </ul>
            </li>
          </ul>
        </section>

        <section class="week loading" id="week0-cbp3">
          <h2 class="week-title">Week 0 (Community Bonding Period)</h2>
          <p class="dates">May 28th - June 1, 2025</p>
          
          <h3>Outcome</h3>
          <p>Investigated geom_abline bug and proposed solution, implemented new D3-based tooltip system.</p>
           <div class="feature-showcase">
            <div class="showcase-item">
              <h4>D3-based Tooltip Implementation</h4>
              <div class="video-container">
                <video autoplay loop muted playsinline class="demo-video">
                  <source src="assets/tooltip.mp4" type="video/mp4">
                  <source src="path/to/tooltip-demo.webm" type="video/webm">
                  Your browser does not support the video tag.
                </video>
              </div>
              <p class="video-caption">Interactive tooltips following mouse position with D3 integration</p>
            </div>
          </div>
          <h3>What I did</h3>
          <ul class="links-list">
            <li>Analyzed geom_abline boundary issue (<code>#142</code>) with reproducible examples</li>
            <li>Identified root cause: clipping not reapplied during <code>update_axes</code></li>
            <li>Proposed JS solution to recalculate segments post-update</li>
            <li>Switched tooltip implementation from <code>tippy.js</code> to native D3</li>
            <li>Created unified tooltip div that follows mouse position</li>
            <li>Updated all tooltip tests for new implementation</li>
          </ul>
          
          <h3>Learnings</h3>
          <ul class="links-list">
            <li><strong>geom_abline behavior</strong>:
              <ul>
                <li>Initial clipping done by R's <code>pre_process</code> function</li>
                <li>Boundary constraints lost during scale updates</li>
                <li>Need to recalculate endpoints in JS using current scale domains</li>
              </ul>
            </li>
            <li><strong>Tooltip implementation</strong>:
              <ul>
                <li>D3 outperforms <code>tippy.js</code> for Animint's use case</li>
                <li>Single dynamic div more efficient than multiple tooltips</li>
                <li>Better integration with existing D3 infrastructure</li>
              </ul>
            </li>
            <li>Renderer-compiler interaction during axis updates</li>
            <li>Test case requirements for renderer bugs</li>
          </ul>
          
          <h3>Confusions</h3>
          <ul class="links-list">
            <li>Still unsure about how to implement the js side function for clipping geom_ablines</li>
            <li>Facing some problems with the tests for tooltips in simulating hovering over the component - to get the exact position of the component on the viewport</li>
          </ul>
          
          <h3>Next Week Targets</h3>
          <ul class="links-list">
            <li>Create failing renderer test for geom_abline issue</li>
            <li>Implement JS solution for abline boundary clipping</li>
            <li>Finalize D3 tooltip PR (<code>#191</code>) with test fixes</li>
            <li>Get tooltip implementation merged</li>
          </ul>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="https://github.com/animint/animint2/issues/142" target="_blank" rel="noopener">geom_abline bug (#142)</a></li>
            <li><a href="https://github.com/animint/animint2/pull/191" target="_blank" rel="noopener">D3 tooltip PR (#191)</a></li>
            <li><a href="https://github.com/animint/animint2/issues/179" target="_blank" rel="noopener">Tooltip feature (#179)</a></li>
          </ul>
        </section>

        <section class="week loading" id="week1">
        <h2 class="week-title">Week 1</h2>
        <p class="dates">June 2 - June 8, 2025</p>
        
        <h3>Outcome</h3>
        <p>Refined tooltip PR with all requested changes, investigated geom_abline solutions, and implemented initial geom_aligned_boxes with quadratic programming optimization.</p>
        
        <h3>What I did</h3>
        <ul class="links-list">
          <li>Made all requested changes in tooltip PR, refining and improving minute details</li>
          <li>Investigated further into geom_abline issue and identified two potential approaches for handling clipping</li>
          <li>Opened new PR implementing <code>geom_aligned_boxes</code> (#203) - a custom geom for aligned rectangular labels</li>
          <li>Implemented the core structure where each box is a <code>&lt;g class="geom"&gt;</code> group containing both <code>&lt;rect&gt;</code> (box) and <code>&lt;text&gt;</code> (label) elements</li>
          <li>Integrated quadprog.js (JavaScript port of R's quadprog library) for label positioning optimization</li>
          <li>Set up automatic text measurement system using browser's actual font metrics</li>
          <li>Created bounding rectangle calculation that dynamically sizes boxes to fit measured text</li>
        </ul>
        
         <h3>Learnings</h3>
      <ul class="links-list">
        <li><strong>geom_abline clipping approaches</strong>:
          <ul>
            <li>Option 1: Move clipping entirely to JS side, shifting pre_process function logic from R</li>
            <li>Option 2: Handle clipping in compiler side by modifying z_animint.js update_axes function</li>
            <li>Both approaches have trade-offs in terms of performance and code organization</li>
          </ul>
        </li>
        <li><strong>geom_aligned_boxes architecture and use case</strong>:
          <ul>
            <li>Addresses the need for non-overlapping labels in visualizations, particularly useful for time series data where multiple category labels need to appear near data points</li>
            <li>Takes required aesthetics: x, y, label, plus optional ones like fill, color</li>
            <li>Mimics R's directlabels::last.polygons functionality but adapted for animint2's JavaScript environment</li>
            <li>Uses quadratic programming to optimize label positions: keeps x-positions fixed while adjusting y-positions to minimize overlaps</li>
            <li>Solver minimizes distance from original y-values while ensuring no label collisions</li>
            <li>Learned how different svg elements work. eg. we cant appened a <code>&lt;text&gt;</code> in a <code>&lt;rect&gt;</code> element in svg! (which i was trying to do before for this implementation.</li>
          </ul>
          </li>
          <li>Integration of quadprog.js JavaScript port for optimization</li>
          <li>Browser-based text sizing and bounding box calculations</li>
        </ul>
        
        
        <strong>Technical implementation insights</strong>:
          <ul>
            <li>Browser-based text measurement is crucial since font rendering varies across systems</li>
            <li>Quadprog.js provides the mathematical optimization needed for clean label arrangement</li>
            <li>Dynamic bounding box calculation ensures labels are properly contained within their rectangles</li>
            <li>The optimization problem balances staying close to original positions vs avoiding overlaps</li>
          </ul>
        </li>
      </ul>
      
      <h3>Confusions</h3>
      <ul class="links-list">
        <li>The quadratic programming solver integration isn't functioning correctly yet - the optimization constraints and objective function need refinement</li>
        <li>Need to implement proper error handling for cases where optimal positioning might not be feasible</li>
        <li>Still evaluating which approach would be best for the geom_abline clipping issue</li>
        <li>Debugging the quadprog.js parameter setup to ensure it correctly interprets the positioning constraints</li>
      </ul>
      
      <h3>Next Week Targets</h3>
      <ul class="links-list">
        <li>Complete geom_aligned_boxes implementation by fixing the quadprog solver integration</li>
        <li>Create comprehensive renderer tests for geom_aligned_boxes functionality</li>
        <li>Get tooltip PR (#191) merged after addressing any final feedback</li>
        <li>Implement robust error handling for edge cases in label positioning optimization</li>
        <li>Test geom_aligned_boxes with various data scenarios to ensure reliability</li>
      </ul>
      
      <h3>Links</h3>
      <ul class="links-list">
        <li><a href="https://github.com/animint/animint2/pull/191" target="_blank" rel="noopener">D3 tooltip PR (#191)</a></li>
        <li><a href="https://github.com/animint/animint2/pull/203" target="_blank" rel="noopener">geom_aligned_boxes PR (#203)</a></li>
        <li><a href="https://github.com/animint/animint2/issues/174" target="_blank" rel="noopener">geom_aligned_boxes issue (#174)</a></li>
        <li><a href="https://tdhock.github.io/directlabels/docs/lineplot/posfuns/last.polygons.html" target="_blank" rel="noopener">R directlabels::last.polygons reference</a></li>
        <li><a href="https://github.com/albertosantini/quadprog" target="_blank" rel="noopener">quadprog.js library</a></li>
      </ul>
      </section>

        <section class="week loading" id="week2">
          <h2 class="week-title">Week 2</h2>
          <p class="dates">June 9 - June 15, 2025</p>
          
          <h3>Outcome</h3>
          <p>Completed core implementation of geom_aligned_boxes with optimized label positioning, fixed remaining tooltip issues, and got PR #191 merged.</p>
          <div class="feature-showcase">
            <div class="showcase-item">
              <h4>geom_aligned_boxes interactive example</h4>
              <div class="video-container">
                <video autoplay loop muted playsinline class="demo-video">
                  <source src="assets/aligned_box.mov" type="video/mp4">
                  <source src="path/to/aligned.webm" type="video/webm">
                  Your browser does not support the video tag.
                </video>
              </div>
              <p class="video-caption">geom_aligned_boxes positioned in a way that they dont collide using quadprog.js</p>
            </div>
          </div>
          <h3>What I did</h3>
          <ul class="links-list">
            <li>Implemented quadratic programming solution for label positioning inspired by directlabels::qp.labels</li>
            <li>Created comprehensive renderer tests for geom_aligned_boxes covering:
              <ul>
                <li>Basic rendering</li>
                <li>Collision avoidance</li>
                <li>Interactive behavior</li>
                <li>Boundary constraints</li>
              </ul>
            </li>
            <li>Fixed final tooltip issues and got PR #191 merged</li>
            <li>Added multiple usage examples demonstrating different configurations</li>
            <li>Identified and documented edge cases:
              <ul>
                <li>Text styling issues</li>
                <li>Plot boundary violations</li>
                <li>StyleActions conflicts</li>
              </ul>
            </li>
          </ul>
          
          <h3>Learnings</h3>
          <ul class="links-list">
            <li><strong>Finally cracked the label positioning!</strong> After digging through the directlabels source code, I got the quadratic programming approach working. It's cool how it:
              <ul>
                <li>Handels overlaps and avoids collisions between labels using constraints in qp solver</li>
                <li>Uses a constraint matrix to prevent overlaps</li>
                <li>Minimizes the distance from original positions</li>
              </ul>
            </li>
            
            <li><strong>SVG structure headaches:</strong> 
              <ul>
                <li>Learned the hard way you can't nest text inside rect elements (facepalm)</li>
                <li>Had to completely restructure as &lt;g&gt; containing separate &lt;rect&gt; and &lt;text&gt;</li>
                <li>Still fighting with style inheritance - the geom group keeps grabbing styles when it shouldn't (for the geom_aligned_boxes that have ClickSelects in them)</li>
              </ul>
            </li>
            
            <li><strong>Testing adventures:</strong>
              <ul>
                <li>Built tests for every weird edge case I could think of</li>
                <li>Found some sneaky bugs where labels would escape the plot area during interactions</li>
                <li>Learned to test performance with a lot of labels</li>
              </ul>
            </li>
            
            <li><strong>Tooltip victory lap:</strong>finally got the D3 tooltip PR merged!</li>
          </ul>

          <h3>Confusions/Issues</h3>
          <ul class="links-list">
            <li><strong>Style inheritance problem:</strong>
              <ul>
                <li>Added <code>if (g_info.geom == "aligned_boxes") return;</code> to skip automatic styling</li>
                <li>But clickSelects elements still get unwanted style attributes</li>
                <li>Can't figure out where the styles are leaking through</li>
              </ul>
            </li>
            
            <li><strong>Boundary issues:</strong>
              <ul>
                <li>Labels near plot edges occasionally escape containment (only to a limited extent and only the left side of x limit)</li>
                <li>Need to add proper clipping</li>
              </ul>
            </li>
          
          <h3>Next Week Targets</h3>
          <ul class="links-list">
            <li>Finalize geom_aligned_boxes styling implementation</li>
            <li>Begin investigating code coverage tools for animint2</li>
            <li>Prepare geom_aligned_boxes documentation</li>
          </ul>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="https://github.com/animint/animint2/pull/203" target="_blank" rel="noopener">geom_aligned_boxes PR (#203)</a></li>
            <li><a href="https://tdhock.github.io/directlabels/docs/utility.function/posfuns/qp.labels.html" target="_blank" rel="noopener">qp.labels reference</a></li>
            <li><a href="https://github.com/tdhock/directlabels/blob/master/R/utility.function.R" target="_blank" rel="noopener">directlabels source</a></li>
            <li><a href="https://github.com/animint/animint2/pull/191" target="_blank" rel="noopener">Merged tooltip PR (#191)</a></li>
          </ul>
        </section>

        <section class="week loading" id="week3">
          <h2 class="week-title">Week 3</h2>
          <p class="dates">June 16 - June 22, 2025</p>
          
          <h3>Outcome</h3>
          <p>Refined geom_label_aligned implementation based on mentor feedback, began setting up code coverage tools, and ported additional visualizations to the gallery.</p>
          
          <img src="assets/label_aligned.png" alt="geom_label_aligned visualization showing properly aligned labels with optimized box sizing" class="full-width-image">
          <p class="image-caption">geom_label_aligned now with proper hjust alignment and optimized box sizing</p>

          <h3>What I did</h3>
          <ul class="links-list">
            <li>Implemented major improvements to geom_label_aligned based on mentor feedback:
              <ul>
                <li>Changed default fill from black to white</li>
                <li>Fixed horizontal width calculation (no more extra space!)</li>
                <li>Added proper hjust support (0, 0.5, 1)</li>
                <li>Renamed from geom_aligned_boxes to geom_label_aligned</li>
              </ul>
            </li>
            <li>Refactored test files into single comprehensive test:
              <ul>
                <li>Created <code>check_aligned_box_collisions</code> helper function</li>
                <li>Moved vertical alignment tests to WorldBank viz</li>
                <li>Consolidated all test cases</li>
              </ul>
            </li>
            <li>Added detailed documentation about QP usage:
              <ul>
                <li>Clarified it runs after showSelected filtering</li>
                <li>Explains vertical vs horizontal alignment modes</li>
              </ul>
            </li>
            <li>Began implementing code coverage:
              <ul>
                <li>Setting up V8 for JS coverage</li>
                <li>Configuring covr for R coverage</li>
                <li>Integrating with Codecov</li>
              </ul>
            </li>
            <li>Ported visualization #9/18 (Changepoint detection) to new gallery</li>
          </ul>
          
          <h3>Learnings</h3>
          <ul class="links-list">
            <li><strong>Geom refinement lessons:</strong>
              <ul>
                <li>Because of the unique structure of this geom, a lot of default styling structures implemented in animint2 for all geoms dont work for this one. So I had to implement some conditions in certain cases.</li>
                <li>Text alignment is trickier than expected (hjust wasn't working as intended). I had to implement a get_hjust function to get it working for the new geom. </li>
                <li>Naming conventions should match ggplot2 ecosystem</li>
              </ul>
            </li>
            
            <li><strong>Testing insights:</strong>
              <ul>
                <li>DRY principle applies to tests too - helper functions are essential</li>
                <li>Real-world examples (like WorldBank) make great test cases</li>
              </ul>
            </li>
            
            <li><strong>Code coverage setup:</strong>
              <ul>
                <li>V8 engine quirks when measuring JS coverage. </li>
                <li>How covr instruments R code</li>
                <li>Codecov report interpretation</li>
              </ul>
            </li>
          </ul>

          <h3>Confusions/Issues</h3>
          <ul class="links-list">
            <li><strong>QP behavior quirk:</strong>
              <ul>
                <li>Labels with same x-values affect others even when not colliding</li>
                <li>Need to adjust constraint matrix to be smarter about this</li>
              </ul>
            </li>
            
            <li><strong>Code coverage challenges:</strong>
              <ul>
                <li>Getting V8 to properly track JS execution paths</li>
                <li>Merging R and JS coverage reports</li>
              </ul>
            </li>
          </ul>
          
          <h3>Next Week Targets</h3>
          <ul class="links-list">
            <li>Fix QP constraint matrix for non-colliding labels</li>
            <li>Complete initial code coverage implementation</li>
            <li>Finalize geom_label_aligned implementation and documentation</li>
          </ul>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="https://github.com/animint/animint2/pull/203" target="_blank" rel="noopener">geom_label_aligned PR (#203)</a></li>
            <li><a href="https://github.com/animint/animint2/pull/208" target="_blank" rel="noopener">Code coverage PR (#208)</a></li>
            <li><a href="https://github.com/animint/gallery/pull/33" target="_blank" rel="noopener">Gallery visualization PR (#33)</a></li>
            <li><a href="https://suhaani-agarwal.github.io/gallery/" target="_blank" rel="noopener">Forked gallery preview</a></li>
          </ul>
        </section>
        <section class="week" id="week4">
          <h2 class="week-title">Week 4 - When Labels Learned to Behave</h2>
          <p class="dates">June 23 - June 29, 2025</p>

          <div class="video-container">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/WDYEExT0MDk" frameborder="0" allowfullscreen></iframe>
            <p class="image-caption">Watch how labels now stay politely within plot boundaries and shrink when needed (vertical alignment)</p>
          </div>

          <h3>This Week's Progress</h3>
          <p>Finally cracked the label positioning challenges! My geom_label_aligned now handles crowded plots much more gracefully:</p>
          
          <ul>
            <li><strong>Strict Plot Limits:</strong> No more label jailbreaks! Added firm constraints that keep all labels inside the plot area, no matter what.</li>
            <li><strong>Smart Shrinking:</strong> When space gets tight, labels now automatically scale down (but stay readable) until everything fits. It's like watching polite commuters adjust in a crowded train!</li>
            <li><strong>Group Optimization:</strong> Realized distant labels shouldn't affect each other, so I implemented proximity grouping before running the QP solver. Much faster and better results!</li>
          </ul>

          <div class="video-container">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/ZbQxPecMLAg" frameborder="0" allowfullscreen></iframe>
            <p class="image-caption">Horizontal alignment demo showing the same good behavior</p>
          </div>

          <h3>Behind the Scenes</h3>
          <p>The shrinking mechanism was trickier than I expected. At first labels would shrink too much or not enough, but after several iterations I found the right balance. The key was:</p>
          
          <ol>
            <li>Calculate total space needed vs available</li>
            <li>Apply uniform shrinking for groups of labels close to each other and overlapping only when necessary</li>
          </ol>

          <p>Also made progress on code coverage, though it's been a bumpy ride. Trying to merge R's covr with JS coverage from Chrome DevTools feels like teaching two pets to work together - they speak different languages!</p>

          <h3>Next Week Targets</h3>
          <p>Need to:</p>
          <ul>
            <li>Refine the geom_label_aligned PR if needed and get it merged</li>
            <li>Maybe adding some error points for geom_label_aligned like: "vjust cannot be used with vertical alignment" and vica-verca
            </li>
            <li>Finalize the coverage pipeline</li>
            <li>Write proper docs so others can use these features</li>
          </ul>

          <p>Overall, super satisfying to see labels now handle tight spaces so elegantly. The videos really show how far we've come! Do watch it for better understand!</p>
        </section>
       <section class="week loading" id="week5">
  <h2 class="week-title">Week 5</h2>
  <p class="dates">June 30 - July 6, 2025</p>
  
  <h3>Outcome</h3>
  <p>
    Successfully integrated R and JavaScript code coverage reporting into the Animint2 CI pipeline. R coverage is now computed using <code>covr</code> and uploaded to Codecov, while JavaScript coverage is retrieved via Chrome DevTools and transformed into the Istanbul format using <code>v8-to-istanbul</code>. Combined reports now appear in the Codecov dashboard.
  </p>

  <h3>What I did</h3>
  <p>
    This week’s primary focus was code coverage infrastructure. I began with R coverage using the <code>covr</code> package. After setting up instrumentation, I updated the GitHub Actions workflow so that <code>covr::package_coverage()</code> runs after compiler tests, and the resulting coverage file is uploaded to Codecov using their bash uploader.
    <br><br>
    For JavaScript, I collected raw coverage data during renderer tests using Chrome DevTools Protocol’s JS coverage collector. This produced raw V8-format JSON coverage, but Codecov requires Istanbul JSON. To convert the raw format, I initially experimented with manually copying the <code>v8-to-istanbul</code> library into the repo and using only its lib-based source files, but this approach introduced maintenance complexity and unresolved dependency issues.
    <br><br>
    I pivoted to a cleaner solution by modifying the CI workflow to install Node modules specifically for the renderer test phase. This allowed me to install <code>v8-to-istanbul</code> via <code>npm</code> and use its CLI to convert the raw JSON into a Codecov-acceptable Istanbul JSON file. The Istanbul format includes mappings for statement, function, and branch coverage aligned to file paths, and is required for Codecov to properly visualize coverage across JS source files.
    <br><br>
    With this conversion step working reliably, I merged both R and JS coverage into the Codecov upload step. The Animint2 repository now generates unified code coverage reports from both languages. These reports are visible at:  
    <a href="https://app.codecov.io/github/animint/animint2">https://app.codecov.io/github/animint/animint2</a>
  </p>

  <h3>Learnings</h3>
  <p>
    I learned how to integrate heterogeneous coverage systems (R and JS) in a unified CI environment. Specifically for a unique structure like that of animint2, there was no coverage option available by default so had to make one using chrome devtools coverage collection for JS coverage. For R, <code>covr</code> integrates directly with the package test suite, but for JS, raw V8 coverage must be explicitly captured, stored, and transformed into the Istanbul schema.

  </p>

  <h3>Confusions/Issues</h3>
  <p>
    One issue raised was that the Codecov reports currently include files under the <code>inst/htmljs/vendor/</code> directory, which are not part of our authored source code and shouldn’t be included in coverage statistics. I plan to add configuration to tell Codecov to ignore that path.
    <br><br>
    Another issue is with the CRAN test suite in the CI workflow. Currently, even when the CRAN check produces a <strong>WARNING</strong>,
     the job exits with status 0 (green build). I need to update the GitHub Action so that any WARNING during <code>R CMD check --as-cran</code> results in a failed job (non-zero exit).
  </p>

  <h3>Next Week Targets</h3>
  <p>
    - Add ignore rules for <code>vendor/</code> files in Codecov configuration. <br>
    - Update GitHub Actions so the CRAN test fails on WARNINGs. <br>
    - Begin polishing <code>geom_label_aligned</code> based on remaining issues from mentor review.
  </p>

  <h3>Links</h3>
  <ul class="links-list">
    <li><a href="https://app.codecov.io/github/animint/animint2" target="_blank" rel="noopener">Codecov Dashboard – All Commits</a></li>
    <li><a href="https://app.codecov.io/github/animint/animint2/commit/1747fde5868452bd9651a8637022bb3b75b84836/tree/inst/htmljs?dropdown=coverage" target="_blank" rel="noopener">Coverage Report Including vendor/ Files</a></li>
    <li><a href="https://github.com/animint/animint2/pull/208" target="_blank" rel="noopener">Coverage PR (#208)</a></li>
  </ul>
</section>

       <section class="week loading" id="week6">
  <h2 class="week-title">Week 6</h2>
  <p class="dates">July 7 - July 13, 2025</p>
  
  <h3>Outcome</h3>
  <p>
    All major coverage-related issues were resolved and the PR was successfully merged. Animint2 now supports unified R + JavaScript code coverage reporting through Codecov, with comment summaries and file-level insights available for every commit and pull request. I also implemented smooth transitions for <code>geom_label_aligned</code>, added user-level control to hide label background rectangles, and began refining the grouping logic used in label position optimization.
  </p>

  <video controls class="demo-video-small">
    <source src="assets/smooth.mov" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <p class="image-caption">Smooth transitions added for <code>geom_label_aligned</code></p>

  <h3>What I did</h3>
  <p>
    I wrapped up and merged the code coverage implementation. Codecov now posts automated comments on all PRs and commit pushes, showing exactly which lines are covered and which aren't. This dramatically improves review visibility and helps prioritize test improvements. Coverage is uploaded after CI runs for both R (via <code>covr</code>) and JavaScript (via <code>v8-to-istanbul</code>), and can be browsed at:  
    <a href="https://app.codecov.io/github/animint/animint2">https://app.codecov.io/github/animint/animint2</a>.
    <br><br>
    I also resolved the issue where CRAN tests with <strong>NOTEs</strong> or <strong>WARNINGs</strong> were still passing (green build). The GitHub Actions workflow now correctly fails when any CRAN check emits a NOTE or WARNING, ensuring stricter CI validation.
    <br><br>
    On the graphics side, I implemented smooth transitions for <code>geom_label_aligned</code>. Previously, transitions weren’t working as expected due to its unique SVG structure — specifically, each label consisted of a <code>&lt;g class="geom"&gt;</code> with both <code>&lt;rect&gt;</code> and <code>&lt;text&gt;</code> inside. Unlike other geoms, these child elements weren’t receiving the transition logic. I updated the renderer logic in <code>animint.js</code> to explicitly apply transitions to these nested SVG elements within the <code>geom_label_aligned</code> block. This now enables smooth animations on reposition and re-render.
    <br><br>
    Another key feature added this week was the ability to hide the rectangular background behind the label. In response to mentor feedback asking whether borders could be disabled, I introduced a new argument: <code>background_rect = TRUE/FALSE</code>. When set to <code>FALSE</code>, no <code>&lt;rect&gt;</code> is drawn behind the text. This gives users more control over the appearance of label elements. I also added a live example of this to the <code>worldbank-facets-map.R</code> visualization.
    <br><br>
    <div class="viz-item" style="max-width: 1000px; margin: 1.5rem 0;">
  <img src="assets/background_rect.png" alt="Label with no background rectangle" 
       class="viz-image"
       style="max-width: 100%; width: 50%; height: auto;">
  <p class="viz-caption">Labels without background rect using <code>background_rect = FALSE</code></p>
</div>

    Finally, I worked on refining the logic used to group labels for position optimization. Currently, <code>geom_label_aligned</code> uses quadratic programming (QP) to avoid collisions, but only within label groups. The grouping is based on whether labels lie at "similar" positions on the axis perpendicular to alignment (e.g., y-axis for horizontal alignment). This similarity is determined using label height (or width) as a threshold, so that labels with overlapping or near-overlapping positions get grouped.
    <br><br>
    While this works well in many cases, it can lead to over-grouping in cases where slight overlaps on the perpendicular axis shouldn’t trigger alignment optimization. I created test cases and visualizations to explore alternative grouping strategies:
    <ul>
      <li><strong>Exact-position grouping:</strong> Only group labels that lie on exactly the same y (or x) value.</li>
      <li><strong>Reduced-threshold grouping:</strong> Group labels that are very close in position, but using a smaller similarity threshold than full label size.</li>
    </ul>
    The latter option seems more flexible, allowing QP to optimize labels that are visually close while avoiding unnecessary adjustment of slightly spaced elements. I documented these tradeoffs with annotated examples and posted a comment summarizing the options. I'm now awaiting mentor feedback on which strategy we should adopt going forward.
  </p>

  <h3>Links</h3>
  <ul class="links-list">
    <li><a href="https://app.codecov.io/github/animint/animint2" target="_blank" rel="noopener">Codecov Dashboard</a></li>
    <li><a href="https://github.com/animint/animint2/pull/208" target="_blank" rel="noopener">Coverage PR (#208)</a></li>
    <!-- <li><a href="https://github.com/animint/gallery/blob/main/worldbank-facets-map.R" target="_blank" rel="noopener">Example: background_rect = FALSE</a></li> -->
  </ul>
</section>

        <section class="week loading" id="week7">
  <h2 class="week-title">Week 7</h2>
  <p class="dates">July 14 – July 20, 2025</p>

  <img src="assets/label_final.png" alt="Smooth Label Alignment Demo" style="max-width: 800px; height: auto; display: block; margin: 1rem 0;" />
  <p class="image-caption">Smooth transitions and perfect alignment — finally achieved!</p>

  <h3>Outcome</h3>
  <p>
    This week was one of the most fulfilling milestones of my GSoC journey so far — my long-awaited <code>geom_label_aligned</code> pull request was finally merged! After weeks of constant iteration, design discussions, testing edge cases, and refining visual behavior, it’s now part of the main animint2 codebase. 🎉
  </p>
  <p>
    Even more exciting, I officially cleared my <strong>GSoC midterm evaluation</strong>. My mentor's feedback was incredibly uplifting.
  </p>

  <h3>What I Worked On</h3>
  <ul>
    <li>
      <strong>Fixed confusing vertical alignment logic:</strong> The label vertical alignment was originally unintuitive — setting <code>vjust = 1</code> actually placed the label at the top, and 0 at the bottom, which felt reversed. I restructured the logic to use <code>1 - get_vjust(d)</code>, flipping the behavior so it’s now natural and aligns labels as expected.
    </li>
    <li>
      <strong>Resolved label transition glitches:</strong> Previously, when new labels appeared in the plot, they awkwardly flew in from the corner of the SVG canvas. This happened because the transition animations applied uniformly, even to new elements. I fixed this by ensuring transitions only run for elements that existed in the previous state. This made animations feel buttery-smooth and visually correct.
    </li>
    <li>
      <strong>Made label spacing more reliable:</strong> I added a test to check that all aligned labels maintain at least 3px vertical spacing. It computes gaps between label bounding boxes. This guarantees our label layout stays readable and clutter-free:
      <pre><code>expect_true(all(gaps &gt;= 3), info = paste("Min gap found:", min(gaps)))</code></pre>
    </li>
    <li>
      <strong>Polished and hardened tests:</strong> My mentor rightly pointed out that using <code>length(rx)</code> (i.e., computed length) in a test is fragile. I replaced it with a literal value that reflects the actual number of expected labels, making the test stricter and more future-proof:
      <pre><code>expect_equal(as.numeric(rx), rep(5, 12))</code></pre>
    </li>
    <li>
      <strong>Experimented with label centering offsets:</strong> I noticed that SVG <code>getBBox()</code> often gives bounding boxes that include font descenders (like in the letter ‘g’), which made some labels appear slightly off-center. I manually experimented with offsetting the <code>y</code> position using <code>+ d.size / 3</code> to visually balance it. This is not a perfect fix, hence this idea was dropped for now, to keep the code simple.
    </li>
  </ul>

  <h3>✅ Midterm Evaluation Passed</h3>
  <p>
    I had my midterm evaluation this week, and Im super happy to share that it went really well. The appreciation form my mentor was incredibly encouraging.
  </p>
  <p>
    The PR that was merged:
    <a href="https://github.com/animint/animint2/pull/203" target="_blank">PR #203 - geom_label_aligned</a>
  </p>

  <h3>Whats Next?</h3>
  <p>
    Ill now be diving into <a href="https://github.com/animint/animint2/issues/211" target="_blank">Issue #211</a>, which is about combining the renderer and compiler tests. I need to see i that is even beneficial or not. Currently, the R code coverage is tracked from compiler tests and JS code coverage from rednderer tests.
  </p>
  <p>
    
  </p>

  <h3>🔗 Links</h3>
  <ul class="links-list">
    <li><a href="https://github.com/animint/animint2/pull/203" target="_blank" rel="noopener">PR #203 - geom_label_aligned merged 🎉</a></li>
    <li><a href="https://github.com/animint/animint2/issues/211" target="_blank" rel="noopener">Issue #211 - Combining renderer and compiler tests?</a></li>
    <li><a href="https://app.codecov.io/github/animint/animint2" target="_blank" rel="noopener">Codecov Dashboard</a></li>
  </ul>
</section>

        <section class="week loading" id="week8">
          <h2 class="week-title">Week 8</h2>
          <p class="dates">July 21 - July 27, 2025</p>
          
          <h3>Outcome</h3>
          <p>Coming soon...</p>
          
          <h3>What I did</h3>
          <p>Development in progress...</p>
          
          <h3>Learnings</h3>
          <p>To be documented...</p>
          
          <h3>Confusions</h3>
          <p>To be addressed...</p>
          
          <h3>Next Week Targets</h3>
          <p>Planning in progress...</p>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="#" target="_blank" rel="noopener">Updates coming soon</a></li>
          </ul>
        </section>
        <section class="week loading" id="week9">
          <h2 class="week-title">Week 9</h2>
          <p class="dates">July 28 - August 3, 2025</p>
          
          <h3>Outcome</h3>
          <p>Coming soon...</p>
          
          <h3>What I did</h3>
          <p>Development in progress...</p>
          
          <h3>Learnings</h3>
          <p>To be documented...</p>
          
          <h3>Confusions</h3>
          <p>To be addressed...</p>
          
          <h3>Next Week Targets</h3>
          <p>Planning in progress...</p>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="#" target="_blank" rel="noopener">Updates coming soon</a></li>
          </ul>
        </section>
        <section class="week loading" id="week10">
          <h2 class="week-title">Week 10</h2>
          <p class="dates">August 4 - August 10, 2025</p>
          
          <h3>Outcome</h3>
          <p>Coming soon...</p>
          
          <h3>What I did</h3>
          <p>Development in progress...</p>
          
          <h3>Learnings</h3>
          <p>To be documented...</p>
          
          <h3>Confusions</h3>
          <p>To be addressed...</p>
          
          <h3>Next Week Targets</h3>
          <p>Planning in progress...</p>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="#" target="_blank" rel="noopener">Updates coming soon</a></li>
          </ul>
        </section>
        <section class="week loading" id="week11">
          <h2 class="week-title">Week 11</h2>
          <p class="dates">August 11 - August 17, 2025</p>
          
          <h3>Outcome</h3>
          <p>Coming soon...</p>
          
          <h3>What I did</h3>
          <p>Development in progress...</p>
          
          <h3>Learnings</h3>
          <p>To be documented...</p>
          
          <h3>Confusions</h3>
          <p>To be addressed...</p>
          
          <h3>Next Week Targets</h3>
          <p>Planning in progress...</p>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="#" target="_blank" rel="noopener">Updates coming soon</a></li>
          </ul>
        </section>
        <section class="week loading" id="week12">
          <h2 class="week-title">Week 12</h2>
          <p class="dates">August 17 - August 23, 2025</p>
          
          <h3>Outcome</h3>
          <p>Coming soon...</p>
          
          <h3>What I did</h3>
          <p>Development in progress...</p>
          
          <h3>Learnings</h3>
          <p>To be documented...</p>
          
          <h3>Confusions</h3>
          <p>To be addressed...</p>
          
          <h3>Next Week Targets</h3>
          <p>Planning in progress...</p>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="#" target="_blank" rel="noopener">Updates coming soon</a></li>
          </ul>
        </section>
        <section class="week loading" id="week13">
          <h2 class="week-title">Week 13</h2>
          <p class="dates">August 24 - August 30, 2025</p>
          
          <h3>Outcome</h3>
          <p>Coming soon...</p>
          
          <h3>What I did</h3>
          <p>Development in progress...</p>
          
          <h3>Learnings</h3>
          <p>To be documented...</p>
          
          <h3>Confusions</h3>
          <p>To be addressed...</p>
          
          <h3>Next Week Targets</h3>
          <p>Planning in progress...</p>
          
          <h3>Links</h3>
          <ul class="links-list">
            <li><a href="#" target="_blank" rel="noopener">Updates coming soon</a></li>
          </ul>
        </section>
      </article>
    </main>
    <footer>&copy; 2025 Suhaani Agarwal - Google Summer of Code Development Journal</footer>
    <script>
      // Enhanced navbar toggle for mobile
      const hamburger = document.querySelector(".hamburger");
      const navLinks = document.querySelector(".nav-links");

      function toggleNav() {
        navLinks.classList.toggle("show");
        hamburger.classList.toggle("active");
        
        // Enhanced hamburger animation
        const bars = hamburger.querySelectorAll('div');
        if (navLinks.classList.contains('show')) {
          bars[0].style.transform = 'rotate(45deg) translate(8px, 8px)';
          bars[1].style.opacity = '0';
          bars[2].style.transform = 'rotate(-45deg) translate(8px, -8px)';
        } else {
          bars.forEach(bar => {
            bar.style.transform = '';
            bar.style.opacity = '';
          });
        }
      }

      hamburger.addEventListener("click", toggleNav);
      hamburger.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          toggleNav();
        }
      });

      // Close mobile menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!hamburger.contains(e.target) && !navLinks.contains(e.target)) {
          if (navLinks.classList.contains('show')) {
            toggleNav();
          }
        }
      });

      // Enhanced sidebar navigation with smooth scrolling
      const sidebarLinks = document.querySelectorAll("aside.sidebar a");
      const weeks = document.querySelectorAll("section.week");

      // Smooth scroll with enhanced easing
      sidebarLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
        e.preventDefault();
        const id = link.getAttribute("href").substring(1);
        const section = document.getElementById(id);
        if (section) {
          observer.unobserve(section); // ✨ temporarily stop observing

          const headerOffset = 120;
          const offsetPosition = section.offsetTop - headerOffset;
          window.scrollTo({ top: offsetPosition, behavior: "smooth" });

          setActiveLink(id);

          section.style.transform = 'scale(1.02)';
          setTimeout(() => {
            section.style.transform = '';
            observer.observe(section); // ✨ re-observe after scroll finishes
          }, 400); // Wait till animation/scroll finishes
        }
      });

      });

      function setActiveLink(id) {
        sidebarLinks.forEach((link) => {
          const isActive = link.classList.contains("active");
          if (link.getAttribute("href") === `#${id}` && !isActive) {
            sidebarLinks.forEach(l => l.classList.remove("active"));
            link.classList.add("active");
          }
        });
      }

      // Enhanced scroll detection with intersection observer
      const observerOptions = {
  root: null,
  rootMargin: '0px 0px -60% 0px', // triggers when section is in top half
  threshold: 0.1
};

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            setActiveLink(entry.target.id);
          }
        });
      }, observerOptions);

      weeks.forEach(week => {
        observer.observe(week);
      });

      // Loading animation for sections
      function animateOnLoad() {
        const sections = document.querySelectorAll('.week.loading');
        sections.forEach((section, index) => {
          setTimeout(() => {
            section.classList.remove('loading');
            section.classList.add('loaded', 'fade-in');
          }, index * 100);
        });
      }

      // Enhanced scroll animations
      const scrollObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      weeks.forEach(week => {
        scrollObserver.observe(week);
      });

      // Initialize animations on page load
      window.addEventListener('load', () => {
        setTimeout(animateOnLoad, 300);
      });

      // Enhanced link hover effects
      document.querySelectorAll('a[target="_blank"]').forEach(link => {
        link.addEventListener('mouseenter', (e) => {
          e.target.style.transform = 'translateX(4px)';
        });
        
        link.addEventListener('mouseleave', (e) => {
          e.target.style.transform = '';
        });
      });
      // Keyboard navigation for accessibility
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && navLinks.classList.contains('show')) {
          toggleNav();
        }
      });
      // Add focus management for better accessibility
      sidebarLinks.forEach(link => {
        link.addEventListener('focus', () => {
          link.scrollIntoView({
            behavior: 'smooth',
            block: 'nearest'
          });
        });
      });
    </script>
  </body>
</html>